## 数据绑定

- 在data中定义页面的数据

- `Mustache`语法（插值表达式）

  > Mustache语法的主要应用场景如下：
  >
  > - 动态绑定内容
  > - 动态绑定属性
  > - 运算（三元运算、算术运算等）



## 事件绑定

> 事件是渲染层到逻辑层的通讯方式。通过事件可以将用户在渲染层产生的行为，反馈到逻辑层进行业务的处理。

- 小程序中常用的事件
  ![image-20220425122753595](F:\study_notes\前端\微信小程序\WXML模板语法.assets\image-20220425122753595.png)

  > 1. `bindtap`的语法格式
  >    在小程序中，不存在HTML中的onclick鼠标点击事件，而是通过tap事件来相应用户的触摸行为
  >    `bindtap="事件处理函数"`
  > 2. `bindinput`的语法格式
  >    在小程序中，通过input事件来响应文本框的输入事件
  >    `bindinput="事件处理函数"`
  >    `event.detail.value`获取文本框的最新值

- 事件对象的属性列表

  > 当事件回调触发的时候，会收到一个事件对象event，它得详细属性如下表所示：

   ![image-20220425122935444](F:\study_notes\前端\微信小程序\WXML模板语法.assets\image-20220425122935444.png)

  > target属性：指触发该事件的源头组件
  >
  > currentTarget属性：当前事件所绑定的组件

- 在事件处理函数中为`data`中的数据赋值

  > 通过调用`this.setData(dataObject)`方法，可以给页面data中的数据重新赋值

- 事件传参

  > 小程序中的事件传参比较特殊，不能在绑定事件的同时为事件处理函数传递参数。
  >
  > 可以为组件提供`data-*`自定义属性传参，其中*代表的是参数名字。
  >
  > 在事件处理函数中，通过`event.target.dataset.参数名`获取到具体参数的值



## 条件渲染

- 使用`wx:if="{{condition}}"`来判断是否需要渲染该代码块

  > 配套使用`wx:else` 和 `wx:elif`

- 结合`block`使用`wx:if`

  > 如果要一次性控制多个组件的展示与隐藏，可以使用一个`<block></block>`标签将多个组件包装起来，并在`<block>`标签上使用`wx:if`控制属性
  >
  > 注意：`<block>`并不是一个组件，它只是一个包裹性质的容器，不会在页面中做任何渲染

- `hidden`

  > 在小程序中，直接使用`hidden="{{condition}}"`也能控制元素的显示与隐藏

- `wx:if`与`hidden`的对比

  > 1. 运行方式不同
  >    - `wx:if`以动态创建和移出元素的方式，控制元素的展示与隐藏
  >    - `hidden`以切换样式的方式`display:none/block`控制元素的显示与隐藏



## 列表渲染

- `wx:for`

  > 通过`wx:for`可以根据指定的数组，循环渲染重复的组件结构，默认情况下，当前循环项的索引用index表示；当前循环项用item表示。
  >
  > 可以使用`wx:for-index="idName"`和`wx:for-item="itemName"`改变默认的变量名。

- `wx:key`的使用

  > 类似于vue列表渲染中的`:key`，小程序在实现列表渲染时，也建议为渲染出来的列表项指定唯一的key值，从而提高渲染的效率
  >
  > 注意，使用`wx:for="{{array}}"`时需要使用mustache语法，而使用`wx:key="id"`时，不需要使用mustache语法